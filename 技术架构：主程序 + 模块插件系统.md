# æŠ€æœ¯æ¶æ„ï¼šä¸»ç¨‹åº + æ¨¡å—æ’ä»¶ç³»ç»Ÿ

## æ¶æ„æ€»è§ˆ

```mermaid
flowchart TB
    subgraph CORE["ä¸»ç¨‹åº Core"]
        direction TB
        E["Game of Life å¼•æ“"]
        R["æ¸²æŸ“å±‚ (WebGL/Canvas)"]
        M["å‘½é¢˜æ˜ å°„ç®¡ç†å™¨"]
        I["äº¤äº’å±‚"]
        E --> R
        E --> M
        M --> R
        I --> M
    end

    subgraph REGISTRY["å‘½é¢˜æ³¨å†Œè¡¨"]
        direction TB
        CFG["propositions.json<br>æ‰€æœ‰å‘½é¢˜çš„å…ƒæ•°æ®"]
    end

    subgraph MODULES["å‘½é¢˜æ¨¡å— (å¯æ’æ‹”)"]
        direction TB
        P1["æ¨¡å— A: åº·å¨ç”Ÿå‘½æ¸¸æˆ"]
        P2["æ¨¡å— B: åŒæ‘†"]
        P3["æ¨¡å— C: å›šå¾’å›°å¢ƒ"]
        PX["æ¨¡å— X: å ä½ç¬¦"]
    end

    REGISTRY -->|"åŠ è½½å…ƒæ•°æ®"| CORE
    CORE -->|"ç”¨æˆ·ç‚¹å‡» â†’ åŠ è½½æ¨¡å—"| MODULES
    MODULES -->|"æ¸²æŸ“åˆ°è¯¦æƒ…é¡µ"| CORE
```

### æ ¸å¿ƒåŸåˆ™

1. **ä¸»ç¨‹åºåªç®¡ç”Ÿå‘½æ¸¸æˆ + å¯¼èˆª**ï¼Œä¸çŸ¥é“ä»»ä½•å‘½é¢˜çš„å…·ä½“å†…å®¹
2. **å‘½é¢˜æ¨¡å—æ˜¯çº¯ç²¹çš„ç‹¬ç«‹å•å…ƒ**ï¼Œé€šè¿‡æ ‡å‡†æ¥å£å¯¹æ¥ä¸»ç¨‹åº
3. **æ¨¡å—æ‡’åŠ è½½**ï¼Œç”¨æˆ·ç‚¹å‡»åƒç´ æ ¼æ—¶æ‰åŠ è½½å¯¹åº”æ¨¡å—
4. **æ³¨å†Œè¡¨é©±åŠ¨**ï¼Œæ–°å¢å‘½é¢˜åªéœ€æ·»åŠ ä¸€æ¡æ³¨å†Œè®°å½• + ä¸€ä¸ªæ¨¡å—æ–‡ä»¶å¤¹

---

## ä¸€ã€ä¸»ç¨‹åº (Core)

### 1.1 æŠ€æœ¯æ ˆ

| å±‚ | é€‰å‹ | ç†ç”± |
| --- | --- | --- |
| **å¼•æ“** | TypeScript | ç±»å‹å®‰å…¨ï¼Œæ¨¡å—æ¥å£å¯å¼ºçº¦æŸ |
| **æ¸²æŸ“** | WebGL (PixiJS æˆ–åŸç”Ÿ) | ç™¾ä¸‡çº§æ ¼å­éœ€è¦ GPU æ¸²æŸ“ |
| **æ„å»º** | Vite | å¿«é€Ÿå¼€å‘ + æ‡’åŠ è½½åŸç”Ÿæ”¯æŒ |
| **æ¨¡å—åŠ è½½** | Dynamic import | æŒ‰éœ€åŠ è½½ï¼Œé›¶å†—ä½™ |

### 1.2 ä¸»ç¨‹åºæ¨¡å—åˆ’åˆ†

```
src/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ engine.ts            # ç”Ÿå‘½æ¸¸æˆå¼•æ“ï¼ˆæ¼”åŒ–è®¡ç®—ï¼‰
â”‚   â”œâ”€â”€ renderer.ts          # WebGL æ¸²æŸ“å±‚
â”‚   â”œâ”€â”€ grid.ts              # ç”»å¸ƒç½‘æ ¼æ•°æ®ç»“æ„
â”‚   â””â”€â”€ clock.ts             # æ¼”åŒ–æ—¶é’Ÿï¼ˆ3-5s èŠ‚å¥ + æ¸å˜æ§åˆ¶ï¼‰
â”œâ”€â”€ mapping/
â”‚   â”œâ”€â”€ registry.ts          # å‘½é¢˜æ³¨å†Œè¡¨åŠ è½½ä¸ç®¡ç†
â”‚   â”œâ”€â”€ mapper.ts            # å‘½é¢˜ â†’ åƒç´ æ ¼æ˜ å°„é€»è¾‘
â”‚   â””â”€â”€ patterns.ts          # åˆå§‹å›¾æ¡ˆåº“ï¼ˆç¨³å®š/æŒ¯è¡/éšæœºï¼‰
â”œâ”€â”€ interaction/
â”‚   â”œâ”€â”€ hover.ts             # hover å‘½é¢˜åç§°æµ®å±‚
â”‚   â”œâ”€â”€ click.ts             # ç‚¹å‡» â†’ åŠ è½½æ¨¡å—
â”‚   â””â”€â”€ guide.ts             # é¦–æ¬¡å¼•å¯¼ï¼ˆ"ç‚¹å‡»ä»»ä½•æ´»ç€çš„å…‰ç‚¹"ï¼‰
â”œâ”€â”€ modules/
â”‚   â”œâ”€â”€ loader.ts            # æ¨¡å—åŠ¨æ€åŠ è½½å™¨
â”‚   â””â”€â”€ placeholder.ts       # é€šç”¨å ä½ç¬¦æ¨¡å—
â”œâ”€â”€ ui/
â”‚   â””â”€â”€ fallback-list.ts     # å…œåº•å…¥å£ï¼ˆå…¨éƒ¨å‘½é¢˜åˆ—è¡¨ï¼‰
â”œâ”€â”€ types/
â”‚   â””â”€â”€ module-api.ts        # æ¨¡å—æ¥å£ç±»å‹å®šä¹‰ â˜…
â”œâ”€â”€ data/
â”‚   â””â”€â”€ propositions.json    # å‘½é¢˜æ³¨å†Œè¡¨ â˜…
â””â”€â”€ main.ts                  # å…¥å£
```

### 1.3 ç”Ÿå‘½æ¸¸æˆå¼•æ“ (`engine.ts`)

```tsx
interface GameEngine {
  // åˆå§‹åŒ–ç”»å¸ƒ
  init(config: GridConfig): void;

  // æ³¨å…¥å‘½é¢˜çš„åˆå§‹åƒç´ 
  seed(placements: PropositionPlacement[]): void;

  // æ‰§è¡Œä¸€ä»£æ¼”åŒ–
  step(): GenerationDelta;

  // è·å–æŒ‡å®šæ ¼å­çš„çŠ¶æ€
  getCellState(x: number, y: number): CellState;

  // è·å–æŒ‡å®šæ ¼å­æ‰€å±çš„å‘½é¢˜ID
  getCellOwner(x: number, y: number): string | null;
}

interface GridConfig {
  width: number;              // ç”»å¸ƒå®½åº¦ï¼ˆæ ¼å­æ•°ï¼‰
  height: number;             // ç”»å¸ƒé«˜åº¦ï¼ˆæ ¼å­æ•°ï¼‰
  cellSize: number;           // æ¯æ ¼åƒç´ å¤§å°
}

interface CellState {
  alive: boolean;
  owner: string | null;       // æ‰€å±å‘½é¢˜ID
  color: string;              // åå…­è¿›åˆ¶é¢œè‰²
}

interface GenerationDelta {
  born: [number, number][];   // æ–°ç”Ÿæ ¼å­åæ ‡
  died: [number, number][];   // æ­»äº¡æ ¼å­åæ ‡
  generation: number;         // å½“å‰ä»£æ•°
}
```

### 1.4 æ¼”åŒ–æ—¶é’Ÿ (`clock.ts`)

```tsx
interface EvolutionClock {
  interval: number;           // ä»£é™…é—´éš”ï¼Œé»˜è®¤ 4000ms
  transitionDuration: number; // æ¸å˜è¿‡æ¸¡æ—¶é•¿ï¼Œé»˜è®¤ 1500ms
  start(): void;
  pause(): void;
  resume(): void;
  onTick(callback: (delta: GenerationDelta) => void): void;
}
```

---

## äºŒã€å‘½é¢˜æ³¨å†Œè¡¨ (`propositions.json`)

æ¯ä¸ªå‘½é¢˜åœ¨æ³¨å†Œè¡¨ä¸­æ˜¯ä¸€æ¡è®°å½•ã€‚ä¸»ç¨‹åº**åªè¯»æ³¨å†Œè¡¨**ï¼Œä¸å…³å¿ƒæ¨¡å—å†…éƒ¨å®ç°ã€‚

```json
{
  "propositions": [
    {
      "id": "conway-game-of-life",
      "name": "åº·å¨ç”Ÿå‘½æ¸¸æˆ",
      "category": "æ¶Œç°ä¸è‡ªç»„ç»‡",
      "tier": "S",
      "color": "#4ECDC4",
      "pattern": "stable",
      "patternConfig": {
        "type": "block",
        "count": 20
      },
      "modulePath": "./modules/conway-game-of-life/index.ts",
      "icon": "ğŸ”²",
      "description": "4æ¡ç”Ÿæ­»è§„åˆ™ï¼šå­¤ç‹¬æ­»ã€æ‹¥æŒ¤æ­»ã€å­˜æ´»ã€ç¹æ®–"
    },
    {
      "id": "double-pendulum",
      "name": "åŒæ‘†",
      "category": "æ··æ²Œä¸éçº¿æ€§",
      "tier": "S",
      "color": "#FF6B6B",
      "pattern": "oscillator",
      "patternConfig": {
        "type": "blinker",
        "count": 15
      },
      "modulePath": "./modules/double-pendulum/index.ts",
      "icon": "ğŸ”€",
      "description": "ç¡®å®šæ€§ç³»ç»Ÿå¯¹åˆå§‹æ¡ä»¶æåº¦æ•æ„Ÿ"
    },
    {
      "id": "placeholder-example",
      "name": "å¾…å¼€å‘å‘½é¢˜",
      "category": "æ¦‚ç‡ä¸ç»Ÿè®¡ç›´è§‰",
      "tier": "B",
      "color": "#95E1D3",
      "pattern": "random",
      "patternConfig": {
        "type": "scatter",
        "count": 5
      },
      "modulePath": null,
      "icon": "â“",
      "description": "å³å°†æ¨å‡º"
    }
  ]
}
```

### æ³¨å†Œè¡¨å­—æ®µè¯´æ˜

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |  |  |
| --- | --- | --- | --- | --- | --- |
| `id` | string | âœ… | å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œkebab-case |  |  |
| `name` | string | âœ… | å‘½é¢˜ä¸­æ–‡å |  |  |
| `category` | string | âœ… | åˆ†ç±»ï¼ˆå†³å®šé¢œè‰²ï¼‰ |  |  |
| `tier` | "S" \ | "A" \ | "B" | âœ… | ç­‰çº§ï¼ˆå†³å®šåˆå§‹å›¾æ¡ˆç­–ç•¥ï¼‰ |
| `color` | string | âœ… | åå…­è¿›åˆ¶é¢œè‰²ï¼ˆæŒ‰åˆ†ç±»ç»Ÿä¸€ï¼‰ |  |  |
| `pattern` | "stable" \ | "oscillator" \ | "random" | âœ… | åˆå§‹å›¾æ¡ˆç±»å‹ |
| `patternConfig` | object | âœ… | å›¾æ¡ˆè¯¦ç»†é…ç½®ï¼ˆç±»å‹ + æ•°é‡ï¼‰ |  |  |
| `modulePath` | string \ | null | âŒ | æ¨¡å—å…¥å£è·¯å¾„ï¼Œnull = ä½¿ç”¨å ä½ç¬¦ |  |
| `icon` | string | âŒ | emoji å›¾æ ‡ï¼Œhover æ—¶æ˜¾ç¤º |  |  |
| `description` | string | âŒ | ä¸€å¥è¯æè¿° |  |  |

---

## ä¸‰ã€æ¨¡å—æ¥å£è§„èŒƒ â˜…

**è¿™æ˜¯æ•´ä¸ªæ’ä»¶ç³»ç»Ÿçš„æ ¸å¿ƒå¥‘çº¦ã€‚** æ¯ä¸ªå‘½é¢˜æ¨¡å—å¿…é¡»å®ç°æ­¤æ¥å£ã€‚

### 3.1 æ¥å£å®šä¹‰ (`module-api.ts`)

```tsx
/**
 * æ¯ä¸ªå‘½é¢˜æ¨¡å—å¿…é¡» default export ä¸€ä¸ªå®ç°æ­¤æ¥å£çš„å¯¹è±¡
 */
export interface PropositionModule {
  /** æ¨¡å—å…ƒæ•°æ® */
  meta: ModuleMeta;

  /**
   * æŒ‚è½½ï¼šå°†æ¨¡å—æ¸²æŸ“åˆ°æŒ‡å®šå®¹å™¨
   * @param container - ä¸»ç¨‹åºæä¾›çš„ DOM å®¹å™¨
   * @param context - ä¸»ç¨‹åºä¼ å…¥çš„ä¸Šä¸‹æ–‡ä¿¡æ¯
   * @returns æ¸…ç†å‡½æ•°ï¼Œå¸è½½æ—¶è°ƒç”¨
   */
  mount(container: HTMLElement, context: ModuleContext): MountResult;
}

export interface ModuleMeta {
  id: string;
  name: string;
  version: string;
  author: string;
  description: string;
}

export interface ModuleContext {
  /** æ¨¡å—å¯ç”¨çš„æ¸²æŸ“åŒºåŸŸå°ºå¯¸ */
  width: number;
  height: number;

  /** ä¸»ç¨‹åºæä¾›çš„ä¸»é¢˜ä¿¡æ¯ï¼ˆèƒŒæ™¯è‰²ã€æ–‡å­—è‰²ç­‰ï¼‰ */
  theme: Theme;

  /** è¿”å›é¦–é¡µçš„å›è°ƒ */
  navigateHome: () => void;

  /** è·³è½¬åˆ°å¦ä¸€ä¸ªå‘½é¢˜çš„å›è°ƒ */
  navigateTo: (propositionId: string) => void;

  /** å‘é€äº‹ä»¶ç»™ä¸»ç¨‹åºï¼ˆç”¨äºç»Ÿè®¡ã€æ—¥å¿—ç­‰ï¼‰ */
  emit: (event: ModuleEvent) => void;
}

export interface MountResult {
  /** å¸è½½æ¨¡å—ï¼Œé‡Šæ”¾èµ„æº */
  unmount: () => void;

  /** å¯é€‰ï¼šæ¨¡å—æš‚åœï¼ˆç”¨æˆ·åˆ‡åˆ°å…¶ä»–æ ‡ç­¾é¡µæ—¶ï¼‰ */
  pause?: () => void;

  /** å¯é€‰ï¼šæ¨¡å—æ¢å¤ */
  resume?: () => void;

  /** å¯é€‰ï¼šçª—å£å¤§å°å˜åŒ–æ—¶é‡æ–°å¸ƒå±€ */
  resize?: (width: number, height: number) => void;
}

export interface Theme {
  background: string;
  foreground: string;
  accent: string;
  fontFamily: string;
}

export interface ModuleEvent {
  type: 'interaction' | 'complete' | 'error' | 'custom';
  payload?: Record<string, unknown>;
}
```

### 3.2 æ¨¡å—ç”Ÿå‘½å‘¨æœŸ

```mermaid
sequenceDiagram
    participant User as ç”¨æˆ·
    participant Core as ä¸»ç¨‹åº
    participant Loader as æ¨¡å—åŠ è½½å™¨
    participant Module as å‘½é¢˜æ¨¡å—

    User->>Core: ç‚¹å‡»æ´»ç»†èƒ
    Core->>Core: getCellOwner(x, y) â†’ propositionId
    Core->>Loader: loadModule(propositionId)
    Loader->>Loader: dynamic import(modulePath)
    Loader->>Module: å®ä¾‹åŒ–æ¨¡å—
    Core->>Module: mount(container, context)
    Module->>Module: åˆå§‹åŒ–ç”»å¸ƒ/DOM/åŠ¨ç”»
    Module-->>Core: è¿”å› MountResult

    Note over User,Module: ç”¨æˆ·ä¸å‘½é¢˜æ¨¡å—äº¤äº’ä¸­...

    User->>Core: è¿”å›é¦–é¡µ
    Core->>Module: unmount()
    Module->>Module: é‡Šæ”¾èµ„æº
    Core->>Core: æ¢å¤ç”Ÿå‘½æ¸¸æˆç”»å¸ƒ
```

### 3.3 æ¨¡å—æ–‡ä»¶ç»“æ„

æ¯ä¸ªå‘½é¢˜æ¨¡å—æ˜¯ä¸€ä¸ªç‹¬ç«‹æ–‡ä»¶å¤¹ï¼š

```
modules/
â”œâ”€â”€ conway-game-of-life/
â”‚   â”œâ”€â”€ index.ts              # æ¨¡å—å…¥å£ï¼Œexport default
â”‚   â”œâ”€â”€ simulation.ts         # æ¨¡æ‹Ÿé€»è¾‘
â”‚   â”œâ”€â”€ renderer.ts           # æ¸²æŸ“é€»è¾‘
â”‚   â”œâ”€â”€ controls.ts           # ç”¨æˆ·äº¤äº’æ§ä»¶
â”‚   â”œâ”€â”€ styles.css            # æ ·å¼ï¼ˆå¯é€‰ï¼‰
â”‚   â””â”€â”€ assets/               # é™æ€èµ„æºï¼ˆå¯é€‰ï¼‰
â”œâ”€â”€ double-pendulum/
â”‚   â”œâ”€â”€ index.ts
â”‚   â””â”€â”€ ...
â””â”€â”€ _placeholder/
    â””â”€â”€ index.ts              # é€šç”¨å ä½ç¬¦æ¨¡å—
```

---

## å››ã€å ä½ç¬¦æ¨¡å—

æ‰€æœ‰ `modulePath: null` çš„å‘½é¢˜è‡ªåŠ¨ä½¿ç”¨å ä½ç¬¦æ¨¡å—ã€‚

```tsx
// modules/_placeholder/index.ts
import type { PropositionModule, ModuleContext, MountResult } from '../../types/module-api';

const placeholder: PropositionModule = {
  meta: {
    id: '_placeholder',
    name: 'å ä½ç¬¦',
    version: '1.0.0',
    author: 'system',
    description: 'å‘½é¢˜å¼€å‘ä¸­',
  },

  mount(container: HTMLElement, context: ModuleContext): MountResult {
    // æ˜¾ç¤ºå‘½é¢˜åç§° + "å³å°†æ¨å‡º" + è¿”å›æŒ‰é’®
    const el = document.createElement('div');
    el.innerHTML = `
      <div style="
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100%;
        color: ${context.theme.foreground};
        font-family: ${context.theme.fontFamily};
      ">
        <h1 style="font-size: 2rem; margin-bottom: 1rem;">ğŸš§</h1>
        <p style="font-size: 1.2rem; opacity: 0.6;">è¿™ä¸ªå‘½é¢˜æ­£åœ¨å­µåŒ–ä¸­</p>
        <button id="back-btn" style="
          margin-top: 2rem;
          padding: 0.5rem 1.5rem;
          border: 1px solid ${context.theme.foreground}30;
          background: transparent;
          color: ${context.theme.foreground};
          cursor: pointer;
          border-radius: 4px;
        ">è¿”å›ç”»å¸ƒ</button>
      </div>
    `;
    container.appendChild(el);

    const btn = el.querySelector('#back-btn')!;
    btn.addEventListener('click', context.navigateHome);

    return {
      unmount: () => {
        container.removeChild(el);
      },
    };
  },
};

export default placeholder;
```

---

## äº”ã€æ¨¡å—å¼€å‘æŒ‡å—ï¼ˆé¢å‘è´¡çŒ®è€…ï¼‰

### 5.1 æœ€å°å¯è¿è¡Œæ¨¡å—

```tsx
// modules/my-proposition/index.ts
import type { PropositionModule } from '../../types/module-api';

const myModule: PropositionModule = {
  meta: {
    id: 'my-proposition',
    name: 'æˆ‘çš„å‘½é¢˜',
    version: '0.1.0',
    author: 'contributor-name',
    description: 'ä¸€å¥è¯æè¿°æ ¸å¿ƒè§„åˆ™',
  },

  mount(container, context) {
    const canvas = document.createElement('canvas');
    canvas.width = context.width;
    canvas.height = context.height;
    container.appendChild(canvas);

    const ctx = canvas.getContext('2d')!;
    // ... ä½ çš„æ¨¡æ‹Ÿ/äº¤äº’é€»è¾‘ ...

    return {
      unmount: () => {
        container.removeChild(canvas);
      },
      resize: (w, h) => {
        canvas.width = w;
        canvas.height = h;
      },
    };
  },
};

export default myModule;
```

### 5.2 è´¡çŒ®è€…æäº¤æ¸…å•

| é¡¹ç›® | è¦æ±‚ |
| --- | --- |
| **æ¨¡å—æ–‡ä»¶å¤¹** | `modules/{proposition-id}/` |
| **å…¥å£æ–‡ä»¶** | `index.ts`ï¼Œdefault export å®ç° `PropositionModule` æ¥å£ |
| **æ³¨å†Œè¡¨æ¡ç›®** | åœ¨ `propositions.json` ä¸­æ·»åŠ å¯¹åº”è®°å½• |
| **ä¾èµ–** | ä¸å¾—å¼•å…¥ä¸»ç¨‹åºæœªåŒ…å«çš„ä¾èµ–ï¼Œæˆ–è‡ªè¡Œ bundle |
| **èµ„æºæ¸…ç†** | `unmount()` å¿…é¡»é‡Šæ”¾æ‰€æœ‰ DOMã€å®šæ—¶å™¨ã€äº‹ä»¶ç›‘å¬ |
| **æ— å…¨å±€æ±¡æŸ“** | ä¸å¾—ä¿®æ”¹ `window`ã€`document.body` æˆ–å…¨å±€ CSS |
| **è‡ªåŒ…å«** | æ¨¡å—å†…éƒ¨é€»è¾‘å®Œå…¨ç‹¬ç«‹ï¼Œä¸ä¾èµ–å…¶ä»–æ¨¡å— |

### 5.3 ä¸»ç¨‹åºæä¾›çš„èƒ½åŠ›

é€šè¿‡ `ModuleContext` ä¼ å…¥ï¼Œæ¨¡å—**ä¸éœ€è¦**ä¹Ÿ**ä¸åº”è¯¥**è‡ªå·±å®ç°ï¼š

| èƒ½åŠ› | æ¥å£ | è¯´æ˜ |
| --- | --- | --- |
| å¯¼èˆªå›é¦–é¡µ | `context.navigateHome()` | è¿”å›ç”Ÿå‘½æ¸¸æˆç”»å¸ƒ |
| è·³è½¬å…¶ä»–å‘½é¢˜ | `context.navigateTo(id)` | å‘½é¢˜é—´å…³è”è·³è½¬ |
| è·å–æ¸²æŸ“å°ºå¯¸ | `context.width / height` | å“åº”å¼å¸ƒå±€ |
| ä¸»é¢˜é€‚é… | `context.theme` | ä¿æŒè§†è§‰ä¸€è‡´æ€§ |
| äº‹ä»¶ä¸ŠæŠ¥ | `context.emit(event)` | ç”¨æˆ·è¡Œä¸ºç»Ÿè®¡ |

### 5.4 ç¦æ­¢äº‹é¡¹

- âŒ ç›´æ¥æ“ä½œ `document.body` æˆ– `window.location`
- âŒ å¼•å…¥å…¨å±€ CSS æ¡†æ¶
- âŒ åœ¨ `unmount` åä»æœ‰å®šæ—¶å™¨æˆ–äº‹ä»¶ç›‘å¬æ®‹ç•™
- âŒ ä¾èµ–å…¶ä»–å‘½é¢˜æ¨¡å—çš„å†…éƒ¨å®ç°
- âŒ ä¿®æ”¹ä¸»ç¨‹åºçš„ä»»ä½•çŠ¶æ€

---

## å…­ã€å¼€å‘è·¯çº¿

### Phase 1ï¼šå¼•æ“éª¨æ¶

- [ ]  ç”Ÿå‘½æ¸¸æˆå¼•æ“ (`engine.ts` + `grid.ts`)
- [ ]  WebGL æ¸²æŸ“å±‚ (`renderer.ts`)
- [ ]  æ¼”åŒ–æ—¶é’Ÿ (`clock.ts`ï¼Œ4s é—´éš” + æ¸å˜)
- [ ]  åŸºç¡€ç”»å¸ƒå¯è¿è¡Œï¼Œçº¯è‰²æ–¹å—æ¼”åŒ–

### Phase 2ï¼šå‘½é¢˜æ˜ å°„

- [ ]  æ³¨å†Œè¡¨åŠ è½½ (`registry.ts`)
- [ ]  å‘½é¢˜ â†’ åƒç´ æ˜ å°„ (`mapper.ts`)
- [ ]  åˆå§‹å›¾æ¡ˆåº“ (`patterns.ts`ï¼šç¨³å®š/æŒ¯è¡/éšæœº)
- [ ]  åˆ†ç±»ç€è‰²ç³»ç»Ÿ

### Phase 3ï¼šäº¤äº’å±‚

- [ ]  hover æµ®å±‚ï¼ˆå‘½é¢˜å + å›¾æ ‡ï¼‰
- [ ]  ç‚¹å‡» â†’ æ¨¡å—åŠ è½½ â†’ è¯¦æƒ…é¡µæ¸²æŸ“
- [ ]  é¦–æ¬¡å¼•å¯¼ï¼ˆ"ç‚¹å‡»ä»»ä½•æ´»ç€çš„å…‰ç‚¹"ï¼‰
- [ ]  å…œåº•å…¥å£ï¼ˆè§’è½å‘½é¢˜åˆ—è¡¨ï¼‰

### Phase 4ï¼šæ¨¡å—ç³»ç»Ÿ

- [ ]  æ¨¡å—åŠ è½½å™¨ (`loader.ts`)
- [ ]  å ä½ç¬¦æ¨¡å—
- [ ]  ç¬¬ä¸€ä¸ªçœŸå®æ¨¡å—ï¼šåº·å¨ç”Ÿå‘½æ¸¸æˆè¯¦æƒ…é¡µ
- [ ]  è´¡çŒ®è€…æ–‡æ¡£å‘å¸ƒ

### Phase 5ï¼šé€æ­¥å¡«å……

- [ ]  S çº§å‘½é¢˜æ¨¡å—å¼€å‘
- [ ]  A çº§å‘½é¢˜æ¨¡å—å¼€å‘
- [ ]  å¼€æ”¾ç¤¾åŒºè´¡çŒ®